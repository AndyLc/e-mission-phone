<ion-view view-title="Dashboard" class="ion-view-background">
  <!--<ion-nav-bar class="bar-stable">
  </ion-nav-bar>
  <ion-nav-buttons side="primary">
      <button class="button button-icon" ng-click="share()">
        <i class="icon ion-share"></i>
      </button>
  </ion-nav-buttons>
  <ion-nav-buttons side="secondary">
      <button class="button button-icon" ng-click="doRefresh()">
        <i class="icon ion-refresh"></i>
      </button>
  </ion-nav-buttons>-->

  <ion-content>
    <!--
    <div style="height: 40px; width: 100%; padding: 10px;" ng-if="uictrl.showVis"> <!-- visualization control
      <div class="metric-half">
        <div ng-class="summaryButtonClass()" ng-click="showSummary()">Summary</div>
        <div ng-class="chartButtonClass()" ng-click="showChart()">Chart</div>
      </div>
    </div>

    <div ng-if="uictrl.showChart" style="width:50%; float:right; padding-top: 10px;">
      <div class="metric-change-data-button hvcenter" ng-click="openModal()">Change Data</div>
    </div>
    <div ng-if="uictrl.showSummary" style="width:100%; float:right; padding-top: 10px;">
      <div class="metric-change-data-button hvcenter" ng-click="openModal()">Change Data</div>
    </div>
    <div ng-if="uictrl.showChart" style="width:50%;float:right; padding-top: 10px">
      <div class="metric-second-half">
          <i class="icon ion-ios-person metric-icon"></i>
          <label ng-click="toggle()" class="toggle metric-me-toggle">
            <input type="checkbox" ng-checked="!uictrl.showMe" ng-disabled="!uictrl.hasAggr"> <!-- me on left, off
            <div class="track toggle-color">
              <div class="handle"></div>
            </div>
          </label>
          <i class="icon ion-ios-people metric-icon"></i>
        </div>
    </div>
    -->
  	<!--
    <div ng-if="uictrl.showChart" style="width:100%; padding:10px;padding-top: 50px;">
      <div class="metric-half">
        <div ng-class="distanceButtonClass()" ng-click="showDistance()">Distance</div>
        <div ng-class="tripsButtonClass()" ng-click="showTrips()">Trips</div>
        <div ng-class="durationButtonClass()" ng-click="showDuration()">Duration</div>
        <div ng-class="speedButtonClass()" ng-click="showSpeed()">Speed</div>
      </div>
    </div>
    <div ng-if="uictrl.showResult">
      <div ng-if="uictrl.showChart">
        <nvd3 ng-if="uictrl.showTrips" options="countOptions" data="data.count" style="padding: 10px;"></nvd3>
        <nvd3 ng-if="uictrl.showDistance" options="distanceOptions" data="data.distance" style="padding: 10px;"></nvd3>
        <nvd3 ng-if="uictrl.showDuration" options="durationOptions" data="data.duration" style="padding: 10px;"></nvd3>
        <nvd3 ng-if="uictrl.showSpeed" options="speedOptions" data="data.speed" style="padding: 10px;"></nvd3>
      </div>
      <div ng-if="uictrl.showSummary" overflow-scroll="true">-->
      <div class="card" id="suggestion-card" ng-click="linkToMaps()">
        <h4 class="dashboard-headers">Suggestion</h4>
        <div class="user-carbon">
          {{suggestionData.suggestion}}
        </div>
        <div id="percentage-change">
          You can save: {{suggestionData.savings}} in a month
        </div>
      </div>

        <div ng-class="changeFootprintCardHeight()" id="dashboard-stats" class="card">
          <!--
          <div>
            <div class="circle">Ã“
              <div id="green-leaf" class="icon ion-leaf">
              </div>
            </div> -->
              <h4 class="dashboard-headers">Weekly Stats</h4>
              <!--<div ng-if="uictrl.showContent">
                <div ng-class="currentQueryForCarbon()">-->
                <div class="row">
                  <div class="col-left-75"><b>CO2 Consumption: </b></div>
                  <div class="col-right-25">{{carbonData.userCarbon}}</div>
                </div>
                <div class="row">
                  <div class="col-left-75"><b>Change from Last Week: </b></div>
                  <div class="col-right-25">{{carbonData.lastWeekUserCarbon}}</div>
                </div>
                  <!--<div ng-if="uictrl.current == 'Last week'">
                    <div id="arrow-color" ng-if="carbonUp" class="icon ion-arrow-up-a"></div>
                    <div id="arrow-color" ng-if="carbonDown" class="icon ion-arrow-down-a"></div>
                    <div class="percentage-change">{{carbonData.changeInPercentage}}{{carbonData.change}}</div>
                  </div>-->
                <div class="row">
                  <div class="col-left-75"><b>Total Distance: </b></div>
                  <div class="col-right-25">{{summaryData.defaultSummary.totalDistance}}</div>
                </div>
                <div class="row">
                  <div class="col-left-75"><b>Favorite Mode: </b></div>
                  <div class="col-right-25">{{summaryData.defaultSummary.favMode}}</div>
                </div>
                <!--</div>
              </div>-->
              <!-- Toggle total stats results in this
              <div style="margin-top: 110px;">
                <h4 class="dashboard-headers">Lifetime Stats</h4>
                <div class="card dashboard-list"><b>CO2 Consumption:</b> {{carbonData.optimalCarbon}}</div>
                <div class="card dashboard-list"><b>Total Distance:</b> {{carbonData.optimalCarbon}}</div>
                <div class="card dashboard-list"><b>Favorite Mode of Transport:</b> {{carbonData.optimalCarbon}}</div>
              </div>-->
              <!-- Expand card button
              <div id="dashboard-first-demo" ng-click="extendFootprintCard()" class="arrow-position">
                <i ng-class="checkFootprintCardExpanded()"></i>
              </div>-->
          </div>
        <!--
        </div>-->
        <!--
        <div ng-class="changeCalorieCardHeight()" id="dashboard-calorie" class="card">
          <div>
            <div class="circle" ng-if="foodCompare == 'cookie'">
              <img src="img/cookie.png" id="food">
            </div>
            <div class="circle" ng-if="foodCompare == 'iceCream'">
              <img src="img/icecream.png" id="food">
            </div>
            <div class="circle" ng-if="foodCompare == 'banana'">
              <img src="img/banana.png" id="foodB">
            </div>
            <h4 class="dashboard-headers">Calories</h4>
          </div>
          <div ng-show="!userDataSaved()"  class="metric-summary-option-button hvcenter" ng-click="caloriePopup()">Calibrate</div>
          <div ng-if="uictrl.showContent">
            <div ng-class="currentQueryForCalorie()">
              <div class="user-calorie">{{caloriesData.userCalories}}</div>
              <div class="calorie-change" ng-if="foodCompare == 'cookie'">Equals {{numberOfCookies}} homemade chocolate chip cookies</div>
              <div class="calorie-change" ng-if="foodCompare == 'iceCream'">Equals {{numberOfIceCreams}} half cup vanilla ice cream</div>
              <div class="calorie-change" ng-if="foodCompare == 'banana'">Equals {{numberOfBananas}} bananas</div>
              <div ng-if="uictrl.current == 'Last week'">
                <div id="arrow-color" ng-if="caloriesUp" class="icon ion-arrow-up-a"></div>
                <div id="arrow-color" ng-if="caloriesDown" class="icon ion-arrow-down-a"></div>
                <div class="percentage-change">{{caloriesData.changeInPercentage}}{{caloriesData.change}}</div>
              </div>
            </div>
          </div>
          <div style="margin-top: 120px;">
            <div class="card dashboard-list"><b>Average:</b> {{caloriesData.aggrCalories}}</div>
            <div class="card dashboard-list"><b>Last Week:</b> {{caloriesData.lastWeekUserCalories}}</div>
            <div style="align:center;">
              <div class="circle" id="circle-food" ng-click="setCookie()">
                <img src="img/cookie.png" id="food">
              </div>
              <div class="circle" id="circle-food" ng-click="setIceCream()">
                <img src="img/icecream.png" id="food">
              </div>
              <div class="circle" id="circle-food" ng-click="setBanana()">
                <img src="img/banana.png" id="foodB">
              </div>
            </div>
          </div>
          <div ng-click="extendCalorieCard()" class="arrow-position">
            <i ng-class="checkCalorieCardExpanded()"></i>
          </div>
        </div>
      -->

        <div id="dashboard-bottom" class="card">
          <h4 class="dashboard-headers">Recent Trips</h4>
            <!-- Links to trip detail page -->
            <div ng-if="summaryData.userSummary.recentTrips.length == 0" style="height:20px;">
              No available recent trips
            </div>
            <div ng-if="summaryData.userSummary.recentTrips.length > 0">
              <div ng-repeat="recentTrip in summaryData.userSummary.recentTrips">
                <div class="trip-card" style="margin-top: 5px; border-top-width: 2px;">
                  <div class="col-left-75" style="width:60%">
                    <img alt="MODE" ng-src = "{{recentTrip[1]}}" onerror="this.src='img/mode4.png'" style="height:50px">
                    {{recentTrip[2]}} to {{recentTrip[3]}}
                  </div>
                  <div class="col-right-25" style="width:40%">
                    {{recentTrip[4]}} {{recentTrip[5]}}
                  </div>
                </div>
              </div>
            </div>
            <!-- Distance breakdown per mode
            <div ng-if="summaryData.defaultSummary.distance.length == 0" style="margin-top: 20px;color: #54DCC1;font-weight: 700;"summary data</div>
            <div class="row" ng-repeat="d in summaryData.defaultSummary.distance" ng-if="$index % 2 == 0" ng-init="dIndex = $index" st"padding-top: 5px !important;">
              <div ng-repeat="i in [0,1]" ng-if="(dIndex + i)<summaryData.defaultSummary.distance.length" class="col-50" stymargin-bottom: 10px
                <div class="metric-summary-left">
                  <i ng-class="'icon ' + modeIcon(summaryData.defaultSummary.distance[dIndex + i].key)" style="font-size: 30px !import color: #54DCC1;"></i>
                </div>
                <div class="metric-summary-right">
                  <div class="metric-summary-title">
                    {{ summaryData.defaultSummary.distance[dIndex + i].key }}
                  </div>
                  <div class="metric-summary-content">
                    {{ summaryData.defaultSummary.distance[dIndex + i].values }}
                  </div>
                </div>
              </div>
            </div>-->
        </div>
        <!--</div>
    </div>-->
  </ion-content>
</ion-view>
